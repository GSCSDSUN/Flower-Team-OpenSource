/*
 * Decompiled with CFR 0.150.
 */
package digital.rbq.module.impl.exploit;

import me.zane.basicbus.api.annotations.Listener;
import net.minecraft.network.play.client.C00PacketKeepAlive;
import net.minecraft.network.play.server.S00PacketKeepAlive;
import digital.rbq.annotations.Label;
import digital.rbq.events.packet.ReceivePacketEvent;
import digital.rbq.events.packet.SendPacketEvent;
import digital.rbq.module.Module;
import digital.rbq.module.ModuleCategory;
import digital.rbq.module.annotations.Aliases;
import digital.rbq.module.annotations.Category;

@Label(value="Ping Spoof")
@Category(value=ModuleCategory.EXPLOIT)
@Aliases(value={"pingspoof", "pingspoofer", "fakelag"})
public final class PingSpoofMod
extends Module {
    @Override
    public void onEnabled() {
    }

    @Listener(value=SendPacketEvent.class)
    public final void onSendPacket(SendPacketEvent event) {
        if (event.getPacket() instanceof C00PacketKeepAlive) {
            event.setCancelled();
        }
    }

    @Listener(value=ReceivePacketEvent.class)
    public final void onReceive(ReceivePacketEvent event) {
        if (event.getPacket() instanceof S00PacketKeepAlive) {
            event.setCancelled();
            mc.getNetHandler().addToSendQueueSilent(new C00PacketKeepAlive());
        }
    }
}

